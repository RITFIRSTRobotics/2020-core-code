% Document settings
\documentclass[11pt]{article}
\usepackage{fancyhdr}
\usepackage[margin=1in]{geometry}
\usepackage[pdftex]{graphicx}
\usepackage{multirow}
\usepackage{setspace}
\pagestyle{plain}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{epstopdf}
%\usepackage{MnSymbol,wasysym}
\usepackage{amsmath}
%\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{lipsum}
\usepackage{sympytex}
\usepackage{siunitx}
\setlength\parindent{0pt}
\graphicspath{{images/}{drawings/}}

\usepackage{rotating}
\usepackage{array}
\usepackage[table]{xcolor}

% % % % % % % % % % % Header footer
% % % % % % % % % % %EDIT THIS % % % % % % % % % % % % % % % % % % % %
\pagestyle{fancy}
\fancyhf{}
\lhead{Imagine Project Control Protocol}
\rhead{Alex Kneipp}
\lfoot{RIT FIRST Alumni Association}
\cfoot{YYYY-MM-DD}
\rfoot{Page \thepage}
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %


\begin{document}

%Setup the numbering scheme for equations and figures
\numberwithin{equation}{subsection}
\numberwithin{figure}{subsection}

\title{Imagine Project Control Protocol}
\author{Alex Kneipp}
\date{YYYY-MM-DD}
\maketitle

\hspace{1in}
%TODO Include an RIT FIRST logo
%\includegraphics[scale=0.9,trim=0cm 0in 0in 0.0in,clip]{RIT_KGCOE1}

\tableofcontents

\newpage

\section {Packet Types}
\paragraph{}
This standard defines several different packet types to better fit the packet structure to the type of data being sent.
Each packet type has a numerical value which is included in the packet header to encode the type.
The valid packet types, their encoded values, their intended purpose, 
and the network protocol which should be used to send them is shown in Table \ref{tab:pktTypes}.

\begin{table}[h]
    \centering
    \caption{Packet categories and their purpose}
    \label{tab:pktTypes}
    \begin{tabular}{|c|c|p{3in}|c|}
        \hline
        PacketType & Value & Purpose & Protocol \\ 
        \hline
        INIT & 0x00 & Robot Initialization & TCP \\ 
        \hline
        STATE\_REQUEST & 0x10 & A request for the recipient to respond with their current state. & TCP \\
        \hline
        STATE\_UPDATE & 0x12 & The current state of the sender. 
        Sent periodically or in response to a STATE\_REQUEST message. & TCP \\
        \hline
        CONFIG\_REQUEST & 0x20 & A request the that the recipient respond with their current configuration. & TCP \\
        \hline
        CONFIG\_RESPONSE & 0x21 & Sent in response to a CONFIG\_REQUEST message; 
            includes data about the senders configuration. & TCP \\
        \hline
        CONFIG\_UPDATE & 0x22 & A request for the recipient to update their configuration according to the data contained 
            in the message. & TCP \\
        \hline
        USER\_DATA & 0x30 & Data from the robot controllers & UDP \\
        \hline
        UPDATE\_STATUS & 0x40 & Optionally sent in response to CONFIG\_UPDATE or STATE\_UPDATE requests.
        Contains the result of the update.
        If the update failed, the message should contain a reason for the failure.
        If this message is not received in response to a *\_UPDATE message, the update should be assumed to be a success.& UDP \\
        \hline
        DEBUG & 0xFF & Debug data to be reported to a developer. & TCP/UDP \\
        \hline
    \end{tabular}
\end{table}

\section {Protocol Sequence}
\subsection{Initialization}
\paragraph{}
Upon boot up, a robot connects to the robot network and makes an INIT request containing its UUID to the FMS 
(The FMS network address must be configured in the robot configuration before startup.) 
The FMS then responds to the robot with an empty INIT message. 
The FMS then sends a CONFIG\_UDPATE message to the robot which configures it for a controller connected 
to the FMS and the alliance color corresponding to the controller it received. 
\paragraph{}
The CONFIG\_UPDATE message is not required to be sent immediately following the INIT response, 
in order to allow a human field manager to assign a controller and team to a robot which has just been added to the field.
An Initialization procedure may happen at any time, including during the match,
and the FMS should respond whenever it receives an INIT request.

\subsection{Match Start}
\paragraph{}
Before a robot may join a match, it must have successfully completed the entirety of the Initialization procedure 
(including the configuration).  
To start the match, the FMS sends a STATE\_UPDATE message to all of the robots it has successfully initialized 
which sets them to the ENABLED state.

\subsection {The Match}
\paragraph{}
During a match, the FMS should poll the connected ASCs for controller data, 
and then forward that data to the robots which it has fully initialized via USER\_DATA messages.
Each USER\_DATA message should be sent only to the robot for which the controller data is intended,
and it should only contain the data intended for that robot.
The FMS may optionally periodically send STATE\_REQUEST messages to each of the robots participating in a match,
and may act according to the response or lack thereof.

\subsection {Match End}
\paragraph{}
To stop a match regularly, the FMS sends a STATE\_UPDATE message to 
all of the robots it has successfully initialized to DISABLED.

\subsection{Emergency Stop}
\paragraph{}
To E-Stop a robot, the FMS sends a STATE\_UPDATE message to the target robot, which updates its state to E-STOPPED.
An E-STOPPED robot should stop all of its motors,
return to the default position, and ignore or respond with failure to all further messages until re-initialized.

\section {Packet Structures}
\paragraph{}
The robot control packets used for controlling RIT FIRST imagine robots generally follow a Type-Length-Value (TLV) structure.
Packets may be sent via either UDP or TCP, and robots should implement listeners for both protocols.

\subsection {Packet Header}
\paragraph{}
Each packet contains a header with the message type (which determines how the robot should unpack the data in the packet),
and message length, and a timestamp.
\newline
\begin{table}[h]
    \centering
    \label{tab:headerDef}
    \begin{tabular}{|p{1cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|}
        \hline
        Word & 
        \begin{sideways}31\end{sideways} &
        \begin{sideways}30\end{sideways} & 
        \begin{sideways}29\end{sideways} &
        \begin{sideways}28\end{sideways} &
        \begin{sideways}27\end{sideways} &
        \begin{sideways}26\end{sideways} &
        \begin{sideways}25\end{sideways} &
        \begin{sideways}24\end{sideways} &
        \begin{sideways}23\end{sideways} &
        \begin{sideways}22\end{sideways} &
        \begin{sideways}21\end{sideways} &
        \begin{sideways}20\end{sideways} &
        \begin{sideways}19\end{sideways} &
        \begin{sideways}18\end{sideways} &
        \begin{sideways}17\end{sideways} &
        \begin{sideways}16\end{sideways} &
        \begin{sideways}15\end{sideways} &
        \begin{sideways}14\end{sideways} &
        \begin{sideways}13\end{sideways} &
        \begin{sideways}12\end{sideways} &
        \begin{sideways}11\end{sideways} &
        \begin{sideways}10\end{sideways} &
        \begin{sideways}9\end{sideways} &
        \begin{sideways}8\end{sideways} &
        \begin{sideways}7\end{sideways} &
        \begin{sideways}6\end{sideways} &
        \begin{sideways}5\end{sideways} &
        \begin{sideways}4\end{sideways} &
        \begin{sideways}3\end{sideways} &
        \begin{sideways}2\end{sideways} &
        \begin{sideways}1\end{sideways} &
        \begin{sideways}0\end{sideways} \\
        \hline
        0 & \multicolumn{8}{c|}{Message Type} & \multicolumn{24}{c|}{Message Length} \\
        \hline
        1 & \multicolumn{32}{c|}{Timestamp} \\
        \hline
        2..n & \multicolumn{32}{c|}{Data} \\
        \hline
    \end{tabular}
\end{table}
\clearpage
Message Type: Denotes the type of message contained in this packet, see Table 1 for more information.\\
Message Length: The length of the message, including the header, in bytes.
Timestamp: A Unix timestamp (the number of seconds that have elapsed since the Unix epoch, 
that is the time 00:00:00 UTC on 1 January 1970, minus leap seconds), 
in the format of a single precision IEEE floating point number.\\
Data: The data which this packet carries, which must be <Message Length> - 2 words long.\\

\subsection {INIT Packets}
\paragraph{}
Init packets are sent as part of the initialization handshake between a starting up robot and the FMS.  
As such it contains information necessary to uniquely identify a robot.  
Since the FMS replies to an INIT packet from the robot with an empty INIT packet, all fields except the header are optional.  
If a field is not used, the word containing it should not be included in the message 
(which must be indicated in the header’s Message Length field.)
\newline
\begin{table}[h]
    \centering
    \label{tab:InitDef}
    \begin{tabular}{|p{1cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|}
        \hline
        Word & 
        \begin{sideways}31\end{sideways} &
        \begin{sideways}30\end{sideways} & 
        \begin{sideways}29\end{sideways} &
        \begin{sideways}28\end{sideways} &
        \begin{sideways}27\end{sideways} &
        \begin{sideways}26\end{sideways} &
        \begin{sideways}25\end{sideways} &
        \begin{sideways}24\end{sideways} &
        \begin{sideways}23\end{sideways} &
        \begin{sideways}22\end{sideways} &
        \begin{sideways}21\end{sideways} &
        \begin{sideways}20\end{sideways} &
        \begin{sideways}19\end{sideways} &
        \begin{sideways}18\end{sideways} &
        \begin{sideways}17\end{sideways} &
        \begin{sideways}16\end{sideways} &
        \begin{sideways}15\end{sideways} &
        \begin{sideways}14\end{sideways} &
        \begin{sideways}13\end{sideways} &
        \begin{sideways}12\end{sideways} &
        \begin{sideways}11\end{sideways} &
        \begin{sideways}10\end{sideways} &
        \begin{sideways}9\end{sideways} &
        \begin{sideways}8\end{sideways} &
        \begin{sideways}7\end{sideways} &
        \begin{sideways}6\end{sideways} &
        \begin{sideways}5\end{sideways} &
        \begin{sideways}4\end{sideways} &
        \begin{sideways}3\end{sideways} &
        \begin{sideways}2\end{sideways} &
        \begin{sideways}1\end{sideways} &
        \begin{sideways}0\end{sideways} \\
        \hline
        [0,1] & \multicolumn{32}{c|}{Header}\\
        \hline
        2 & \multicolumn{32}{c|}{Robot UUID} \\
        \hline
    \end{tabular}
\end{table}
Robot UUID: A unique identifier for the robot which MAY NOT conflict with any other robots on the field.


\subsection {STATE\_REQUEST Packets}
\paragraph{}
State request packets are empty except for the standard header with the appropriate information.
\newline
\begin{table}[h]
    \centering
    \label{tab:stateReqestDef}
    \begin{tabular}{|p{1cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|}
        \hline
        Word & 
        \begin{sideways}31\end{sideways} &
        \begin{sideways}30\end{sideways} & 
        \begin{sideways}29\end{sideways} &
        \begin{sideways}28\end{sideways} &
        \begin{sideways}27\end{sideways} &
        \begin{sideways}26\end{sideways} &
        \begin{sideways}25\end{sideways} &
        \begin{sideways}24\end{sideways} &
        \begin{sideways}23\end{sideways} &
        \begin{sideways}22\end{sideways} &
        \begin{sideways}21\end{sideways} &
        \begin{sideways}20\end{sideways} &
        \begin{sideways}19\end{sideways} &
        \begin{sideways}18\end{sideways} &
        \begin{sideways}17\end{sideways} &
        \begin{sideways}16\end{sideways} &
        \begin{sideways}15\end{sideways} &
        \begin{sideways}14\end{sideways} &
        \begin{sideways}13\end{sideways} &
        \begin{sideways}12\end{sideways} &
        \begin{sideways}11\end{sideways} &
        \begin{sideways}10\end{sideways} &
        \begin{sideways}9\end{sideways} &
        \begin{sideways}8\end{sideways} &
        \begin{sideways}7\end{sideways} &
        \begin{sideways}6\end{sideways} &
        \begin{sideways}5\end{sideways} &
        \begin{sideways}4\end{sideways} &
        \begin{sideways}3\end{sideways} &
        \begin{sideways}2\end{sideways} &
        \begin{sideways}1\end{sideways} &
        \begin{sideways}0\end{sideways} \\
        \hline
        [0,1] & \multicolumn{32}{c|}{Header}\\
        \hline
    \end{tabular}
\end{table}

\subsection {STATE\_RESPONSE Packets}
\paragraph{}
These packets contatin arbitrary data about the state of the message sender.
\newline
\begin{table}[h]
    \centering
    \label{tab:stateResponseDef}
    \begin{tabular}{|p{1cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|}
        \hline
        Word & 
        \begin{sideways}31\end{sideways} &
        \begin{sideways}30\end{sideways} & 
        \begin{sideways}29\end{sideways} &
        \begin{sideways}28\end{sideways} &
        \begin{sideways}27\end{sideways} &
        \begin{sideways}26\end{sideways} &
        \begin{sideways}25\end{sideways} &
        \begin{sideways}24\end{sideways} &
        \begin{sideways}23\end{sideways} &
        \begin{sideways}22\end{sideways} &
        \begin{sideways}21\end{sideways} &
        \begin{sideways}20\end{sideways} &
        \begin{sideways}19\end{sideways} &
        \begin{sideways}18\end{sideways} &
        \begin{sideways}17\end{sideways} &
        \begin{sideways}16\end{sideways} &
        \begin{sideways}15\end{sideways} &
        \begin{sideways}14\end{sideways} &
        \begin{sideways}13\end{sideways} &
        \begin{sideways}12\end{sideways} &
        \begin{sideways}11\end{sideways} &
        \begin{sideways}10\end{sideways} &
        \begin{sideways}9\end{sideways} &
        \begin{sideways}8\end{sideways} &
        \begin{sideways}7\end{sideways} &
        \begin{sideways}6\end{sideways} &
        \begin{sideways}5\end{sideways} &
        \begin{sideways}4\end{sideways} &
        \begin{sideways}3\end{sideways} &
        \begin{sideways}2\end{sideways} &
        \begin{sideways}1\end{sideways} &
        \begin{sideways}0\end{sideways} \\
        \hline
        [0,1] & \multicolumn{32}{c|}{Header}\\
        \hline
        2 & \multicolumn{32}{c|}{State Code} \\
        \hline
        3..n & \multicolumn{32}{c|}{Arbitrary Data} \\
        \hline
    \end{tabular}
\end{table}

State Code: An integer value signifying the state of the sender.  Valid codes are shown in Table \ref{tab:StateCodes}.

%TODO a lot of these don't describe how the FMS handles states this table says it's allowed to be in.
%That should be fixed
\begin{table}[b]
    \centering
    \label{tab:StateCodes}
    \caption{Robot and FMS States and Codes}
    \begin{tabular}{|c|p{1cm}|p{3in}|c|}
        \hline
        State Name & Code & Meaning & FMS or Robot? \\
        \hline
        INITIALIZED & 0x00 & The robot has been initialized but not configured (See the Initialization sequence) & Robot \\
        \hline
        DISABLED & 0x01 & The robot is disabled and should not take action based on or be sent any USER\_DATA packets. & Robot/FMS\\
        \hline
        ENABLED & 0x02 & The robot is enabled and should react to USER\_DATA packets. & Robot/FMS \\
        \hline
        E-STOPPED & 0xFF & The robot has been E-STOPPED and should not respond to any further packets except with error messages. & Robot/FMS \\
        \hline
    \end{tabular}
\end{table}

Arbitrary Data: User-defined data which may be used or ignored by either the robot or FMS.

\subsection {STATE\_UPDATE Packets}
\paragraph{}
These packets are sent when the FMS wishes to update the state of a robot.
\newline
\begin{table}[h]
    \centering
    \label{tab:stateUpdateDef}
    \begin{tabular}{|p{1cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|}
        \hline
        Word & 
        \begin{sideways}31\end{sideways} &
        \begin{sideways}30\end{sideways} & 
        \begin{sideways}29\end{sideways} &
        \begin{sideways}28\end{sideways} &
        \begin{sideways}27\end{sideways} &
        \begin{sideways}26\end{sideways} &
        \begin{sideways}25\end{sideways} &
        \begin{sideways}24\end{sideways} &
        \begin{sideways}23\end{sideways} &
        \begin{sideways}22\end{sideways} &
        \begin{sideways}21\end{sideways} &
        \begin{sideways}20\end{sideways} &
        \begin{sideways}19\end{sideways} &
        \begin{sideways}18\end{sideways} &
        \begin{sideways}17\end{sideways} &
        \begin{sideways}16\end{sideways} &
        \begin{sideways}15\end{sideways} &
        \begin{sideways}14\end{sideways} &
        \begin{sideways}13\end{sideways} &
        \begin{sideways}12\end{sideways} &
        \begin{sideways}11\end{sideways} &
        \begin{sideways}10\end{sideways} &
        \begin{sideways}9\end{sideways} &
        \begin{sideways}8\end{sideways} &
        \begin{sideways}7\end{sideways} &
        \begin{sideways}6\end{sideways} &
        \begin{sideways}5\end{sideways} &
        \begin{sideways}4\end{sideways} &
        \begin{sideways}3\end{sideways} &
        \begin{sideways}2\end{sideways} &
        \begin{sideways}1\end{sideways} &
        \begin{sideways}0\end{sideways} \\
        \hline
        [0,1] & \multicolumn{32}{c|}{Header}\\
        \hline
        2 & \multicolumn{32}{c|}{State Code} \\
        \hline
        3..n & \multicolumn{32}{c|}{Arbitrary Data} \\
        \hline
    \end{tabular}
\end{table}

State Code: An integer value signifying the state of the robot or FMS.  Valid codes are shown in Table \ref{tab:StateCodes}\\
Arbitrary data: User-defined data which may be used or ignored by either the robot or FMS.

\subsection {CONFIG\_REQUEST Packets}
\paragraph{}
These packets are sent by any agent to request a config value or values of another.
\newline
\begin{table}[h]
    \centering
    \label{tab:configRequestDef}
    \begin{tabular}{|p{1cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|}
        \hline
        Word & 
        \begin{sideways}31\end{sideways} &
        \begin{sideways}30\end{sideways} & 
        \begin{sideways}29\end{sideways} &
        \begin{sideways}28\end{sideways} &
        \begin{sideways}27\end{sideways} &
        \begin{sideways}26\end{sideways} &
        \begin{sideways}25\end{sideways} &
        \begin{sideways}24\end{sideways} &
        \begin{sideways}23\end{sideways} &
        \begin{sideways}22\end{sideways} &
        \begin{sideways}21\end{sideways} &
        \begin{sideways}20\end{sideways} &
        \begin{sideways}19\end{sideways} &
        \begin{sideways}18\end{sideways} &
        \begin{sideways}17\end{sideways} &
        \begin{sideways}16\end{sideways} &
        \begin{sideways}15\end{sideways} &
        \begin{sideways}14\end{sideways} &
        \begin{sideways}13\end{sideways} &
        \begin{sideways}12\end{sideways} &
        \begin{sideways}11\end{sideways} &
        \begin{sideways}10\end{sideways} &
        \begin{sideways}9\end{sideways} &
        \begin{sideways}8\end{sideways} &
        \begin{sideways}7\end{sideways} &
        \begin{sideways}6\end{sideways} &
        \begin{sideways}5\end{sideways} &
        \begin{sideways}4\end{sideways} &
        \begin{sideways}3\end{sideways} &
        \begin{sideways}2\end{sideways} &
        \begin{sideways}1\end{sideways} &
        \begin{sideways}0\end{sideways} \\
        \hline
        [0,1] & \multicolumn{32}{c|}{Header}\\
        \hline
        2 & \multicolumn{32}{c|}{\multirow{2}{*}{Keys List}} \\
        \cline{1-1}
        ... & \multicolumn{32}{c|}{}\\
        \hline
        n & \multicolumn{16}{c|}{Keys List (cont)} & \multicolumn{16}{c|}{\cellcolor[gray]{.6}Unused} \\
        \hline
    \end{tabular}
\end{table}
\newline
Keys list:  A sequence of nul-terminated strings which represent the configuration keys of the receiving agent.
It may be the special keyword “ALL”, which tells the receiving agent to respond with their entire configuration.\\
Unused: Padding bytes to make the packet aligned to a 32-bit boundary

\subsection {CONFIG\_RESPONSE Packets}
\paragraph{}
These packets are sent in response to a CONFIG\_REQUEST packet and contains the reqeusted configuration keys.
\newline
\begin{table}[h]
    \centering
    \label{tab:configResponseDef}
    \begin{tabular}{|p{1cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|}
        \hline
        Word & 
        \begin{sideways}31\end{sideways} &
        \begin{sideways}30\end{sideways} & 
        \begin{sideways}29\end{sideways} &
        \begin{sideways}28\end{sideways} &
        \begin{sideways}27\end{sideways} &
        \begin{sideways}26\end{sideways} &
        \begin{sideways}25\end{sideways} &
        \begin{sideways}24\end{sideways} &
        \begin{sideways}23\end{sideways} &
        \begin{sideways}22\end{sideways} &
        \begin{sideways}21\end{sideways} &
        \begin{sideways}20\end{sideways} &
        \begin{sideways}19\end{sideways} &
        \begin{sideways}18\end{sideways} &
        \begin{sideways}17\end{sideways} &
        \begin{sideways}16\end{sideways} &
        \begin{sideways}15\end{sideways} &
        \begin{sideways}14\end{sideways} &
        \begin{sideways}13\end{sideways} &
        \begin{sideways}12\end{sideways} &
        \begin{sideways}11\end{sideways} &
        \begin{sideways}10\end{sideways} &
        \begin{sideways}9\end{sideways} &
        \begin{sideways}8\end{sideways} &
        \begin{sideways}7\end{sideways} &
        \begin{sideways}6\end{sideways} &
        \begin{sideways}5\end{sideways} &
        \begin{sideways}4\end{sideways} &
        \begin{sideways}3\end{sideways} &
        \begin{sideways}2\end{sideways} &
        \begin{sideways}1\end{sideways} &
        \begin{sideways}0\end{sideways} \\
        \hline
        [0,1] & \multicolumn{32}{c|}{Header}\\
        \hline
        2 & \multicolumn{32}{c|}{\multirow{2}{*}{Key-value List}} \\
        \cline{1-1}
        ... & \multicolumn{32}{c|}{}\\
        \hline
        n & \multicolumn{16}{c|}{Keys-value List (cont)} & \multicolumn{16}{c|}{\cellcolor[gray]{.6}Unused} \\
        \hline
    \end{tabular}
\end{table}
\newline
Key-value list: A semi-colon (;) separated list of key-value pairs representing the configuration values to 
update or create on the reciever.
Each key is a nul-terminated string immediately followed by a TLV structure signifying the value of the configuration value.\\
Unused:  Padding bytes to force packet alignment to a 32 bit word.

\subsection {CONFIG\_UPDATE Packets}
\paragraph{}
An agent sends this packet to attempt to change the configuration of another agent.
\newline
\begin{table}[h]
    \centering
    \label{tab:configUpdateDef}
    \begin{tabular}{|p{1cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|}
        \hline
        Word & 
        \begin{sideways}31\end{sideways} &
        \begin{sideways}30\end{sideways} & 
        \begin{sideways}29\end{sideways} &
        \begin{sideways}28\end{sideways} &
        \begin{sideways}27\end{sideways} &
        \begin{sideways}26\end{sideways} &
        \begin{sideways}25\end{sideways} &
        \begin{sideways}24\end{sideways} &
        \begin{sideways}23\end{sideways} &
        \begin{sideways}22\end{sideways} &
        \begin{sideways}21\end{sideways} &
        \begin{sideways}20\end{sideways} &
        \begin{sideways}19\end{sideways} &
        \begin{sideways}18\end{sideways} &
        \begin{sideways}17\end{sideways} &
        \begin{sideways}16\end{sideways} &
        \begin{sideways}15\end{sideways} &
        \begin{sideways}14\end{sideways} &
        \begin{sideways}13\end{sideways} &
        \begin{sideways}12\end{sideways} &
        \begin{sideways}11\end{sideways} &
        \begin{sideways}10\end{sideways} &
        \begin{sideways}9\end{sideways} &
        \begin{sideways}8\end{sideways} &
        \begin{sideways}7\end{sideways} &
        \begin{sideways}6\end{sideways} &
        \begin{sideways}5\end{sideways} &
        \begin{sideways}4\end{sideways} &
        \begin{sideways}3\end{sideways} &
        \begin{sideways}2\end{sideways} &
        \begin{sideways}1\end{sideways} &
        \begin{sideways}0\end{sideways} \\
        \hline
        [0,1] & \multicolumn{32}{c|}{Header}\\
        \hline
        2 & \multicolumn{32}{c|}{\multirow{2}{*}{Key-value List}} \\
        \cline{1-1}
        ... & \multicolumn{32}{c|}{}\\
        \hline
        n & \multicolumn{16}{c|}{Keys-value List (cont)} & \multicolumn{16}{c|}{\cellcolor[gray]{.6}Unused} \\
        \hline
    \end{tabular}
\end{table}
\newline
Key-value list: A semi-colon (;) separated list of key-value pairs representing the configuration values to 
update or create on the reciever.
Each key is a nul-terminated string immediately followed by a TLV structure signifying the value of the configuration value.\\
Unused:  Padding bytes to force packet alignment to a 32 bit word.

\subsection {USER\_DATA Packets}
\paragraph{}
USER\_DATA Packets contain data from the human controller.
\begin{table}[h]
    \centering
    \label{tab:userDataDef}
    \begin{tabular}{|p{1cm}|p{0.04cm}|p{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|
        m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|m{0.04cm}|}
        \hline
        Word & 
        \begin{sideways}31\end{sideways} &
        \begin{sideways}30\end{sideways} & 
        \begin{sideways}29\end{sideways} &
        \begin{sideways}28\end{sideways} &
        \begin{sideways}27\end{sideways} &
        \begin{sideways}26\end{sideways} &
        \begin{sideways}25\end{sideways} &
        \begin{sideways}24\end{sideways} &
        \begin{sideways}23\end{sideways} &
        \begin{sideways}22\end{sideways} &
        \begin{sideways}21\end{sideways} &
        \begin{sideways}20\end{sideways} &
        \begin{sideways}19\end{sideways} &
        \begin{sideways}18\end{sideways} &
        \begin{sideways}17\end{sideways} &
        \begin{sideways}16\end{sideways} &
        \begin{sideways}15\end{sideways} &
        \begin{sideways}14\end{sideways} &
        \begin{sideways}13\end{sideways} &
        \begin{sideways}12\end{sideways} &
        \begin{sideways}11\end{sideways} &
        \begin{sideways}10\end{sideways} &
        \begin{sideways}9\end{sideways} &
        \begin{sideways}8\end{sideways} &
        \begin{sideways}7\end{sideways} &
        \begin{sideways}6\end{sideways} &
        \begin{sideways}5\end{sideways} &
        \begin{sideways}4\end{sideways} &
        \begin{sideways}3\end{sideways} &
        \begin{sideways}2\end{sideways} &
        \begin{sideways}1\end{sideways} &
        \begin{sideways}0\end{sideways} \\
        \hline
        [0,1] & \multicolumn{32}{c|}{Header}\\
        \hline
        2 & \multicolumn{8}{c|}{Left Joystick X} & \multicolumn{8}{c|}{Left Joystick Y} & 
            \multicolumn{8}{c|}{Right Joystick X} & \multicolumn{8}{c|}{Right Joystick Y} \\
        \hline
        3 & A & B & \multicolumn{14}{c|}{\cellcolor[gray]{.6} Reserved} & \multicolumn{16}{c|}{Controller UUID} \\
        \hline
    \end{tabular}
\end{table}
\newline
Left Joystick X: The X axis of the left joystick on the controller.  An unsigned integer value from 0 to 255.\\
Left Joystick Y: The Y axis of the left joystick on the controller.  An unsigned integer value from 0 to 255.\\
Right Joystick X: The X axis of the right joystick on the controller.  An unsigned integer value from 0 to 255.\\
Right Joystick Y: The Y axis of the right joystick on the controller.  An unsigned integer value from 0 to 255.\\
A: The current state of button “A” (<which button?>).  0 is unpressed, 1 is pressed.\\
B: The current state of button “B” (<which button?>).  0 is unpressed, 1 is pressed.\\
Controller UID: A universally unique ID for this controller.


% If you need a bibliography for your document, add it here
%\begin{thebibliography}{9}
%\end{thebibliography}

\end{document}



